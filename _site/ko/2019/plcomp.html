<!DOCTYPE html>

<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<!-- Begin Jekyll SEO tag v2.6.1 -->
<title>프로그래밍언어 최종 과제 | Orb_H</title>
<meta name="generator" content="Jekyll v3.9.1" />
<meta property="og:title" content="프로그래밍언어 최종 과제" />
<meta property="og:locale" content="ko" />
<meta name="description" content="개요" />
<meta property="og:description" content="개요" />
<link rel="canonical" href="https://orb-h.github.io/projects/ko/2019/plcomp" />
<meta property="og:url" content="https://orb-h.github.io/projects/ko/2019/plcomp" />
<meta property="og:site_name" content="Orb_H" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-09-13T23:50:52+09:00" />
<script type="application/ld+json">
{"headline":"프로그래밍언어 최종 과제","dateModified":"2021-09-13T22:51:01+09:00","datePublished":"2021-09-13T23:50:52+09:00","url":"https://orb-h.github.io/projects/ko/2019/plcomp","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://orb-h.github.io/projects/siteicon.png"}},"@type":"Article","description":"개요","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

		<link type="application/atom+xml" rel="alternate" href="https://orb-h.github.io/projects/feed.xml" title="Orb_H" />

		
		
		

		<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
		<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/moonspam/NanumSquare@1.0/nanumsquare.css">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,400italic,700,700italic|Open+Sans:400,400italic,600,600italic,700,700italic|Inconsolata:400,700">

		<script type="text/x-mathjax-config">
			MathJax.Hub.Config({
			  extensions: ["tex2jax.js"],
			  jax: ["input/TeX", "output/HTML-CSS"],
			  skipStartupTypeset: true,
			  tex2jax: {
				inlineMath: [ ['$','$'], ["\\(","\\)"] ],
				displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
				processEscapes: true
			  },
			  "HTML-CSS": { fonts: ["TeX"] }
			});
		</script>
		<script type="text/javascript"
		  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-AMS_HTML">
	   </script>

		<link rel="stylesheet" href="/projects/css/main.css">
		<link rel="stylesheet" href="/projects/css/ko.css">
		<link rel="icon" href="/projects/images/favicon-16.png" sizes="16x16">
		<link rel="icon" href="/projects/images/favicon-32.png" sizes="32x32">
		<link rel="icon" href="/projects/images/favicon-48.png" sizes="48x48">
		<link rel="icon" href="/projects/images/favicon-57.png" sizes="57x57">
		<link rel="icon" href="/projects/images/favicon-64.png" sizes="64x64">
		<link rel="icon" href="/projects/images/favicon-72.png" sizes="72x72">
		<link rel="icon" href="/projects/images/favicon-96.png" sizes="96x96">
		<link rel="icon" href="/projects/images/favicon-120.png" sizes="120x120">
		<link rel="icon" href="/projects/images/favicon-128.png" sizes="128x128">
		<link rel="icon" href="/projects/images/favicon-144.png" sizes="144x144">
		<link rel="icon" href="/projects/images/favicon-152.png" sizes="152x152">
		<link rel="icon" href="/projects/images/favicon-195.png" sizes="195x195">
		<link rel="icon" href="/projects/images/favicon-228.png" sizes="228x228">
		<link rel="icon" href="/projects/images/favicon-256.png" sizes="256x256">
		<link rel="icon" href="/projects/images/favicon-480.png" sizes="480x480">

		
	</head>

	<body>
		<header>
			<h1>
				<a href="/projects/ko"><img src="/projects/images/emblem.png" width="40px" height="40px" alt="Orb_H logo"></a>
				Orb_H
				<button type="button" class="open-nav" id="open-nav"></button>
			</h1>

			<form action="/projects/ko/search/" method="get">
				<input type="text" name="q" id="search-input" placeholder="검색..." autofocus>
				<input type="submit" value="Search" style="display: none;">
			</form>

			<nav class="full-navigation">
				<ul>
					<li class="nav-item top-level">
						<a href="/projects/ko/">메인 페이지</a>
					</li>
				</ul>

				<ul>
					
					
					
					
					
						<li class="nav-item top-level">
							
							
							<a href="/projects/ko/2016/titration">2016</a>
							<ul>
								
									<li class="nav-item"><a href="/projects/ko/2016/titration">산-염기 적정 시뮬레이션</a></li>
								
							</ul>
						</li>
					
						<li class="nav-item top-level">
							
							
							<a href="/projects/ko/2019/plcomp">2019</a>
							<ul>
								
									<li class="nav-item"><a href="/projects/ko/2019/plcomp">프로그래밍언어 최종 과제</a></li>
								
							</ul>
						</li>
					
						<li class="nav-item top-level">
							
							
							<a href="/projects/ko/2021/prism">2021</a>
							<ul>
								
									<li class="nav-item"><a href="/projects/ko/2021/prism">Project Prism</a></li>
								
							</ul>
						</li>
					
						<li class="nav-item top-level">
							
                        		
				</ul>

				<ul>
					<li class="nav-item top-level">
						<a>외부 링크</a>
						<ul>
							<li class="nav-item">
								<a href="https://orb-h.github.io/ko/">루트 페이지</a>
							</li>
							<li class="nav-item">
								<a href="https://orb-h.github.io/resume/ko/">이력서</a>
							</li>
							<li class="nav-item">
								<a href="https://orb-h.github.io/blog/ko/">블로그</a>
							</li>
							<li class="nav-item">
								<a href="https://github.com/CloudCannon/edition-jekyll-template"><b>테마 리포지토리</b></a>
							</li>
						</ul>
					</li>
				</ul>
			</nav>
		</header>

		<section class="main">
			<div class="page-header">
				<h2>2019</h2>
				<h3>프로그래밍언어 최종 과제</h3>
				<div align="right">
					
						
						한국어
						 / 
						<a href="/projects/en/2019/plcomp">English</a>
						
					
				</div>
			</div>
			<article class="content">
				<link href="/projects/css/item.css" rel="stylesheet"></link>
<script src="/projects/scripts/item_init.js" async></script>
<p align="right">


    진행 기간: 2019.04~06<br />


마지막 수정: 2021-09-13 22:51:01 +0900<br />
</p>
<p>
    
        <code>Compiler</code>
    
        <code>Programming Language</code>
    
        <code>Python</code>
    
</p>


<blockquote>제시된 문법으로 작성된 코드를 Assembly-like 코드로 변환합니다.</blockquote>


<ul id="toc">
    <li style="font-size:20px;font-weight:bold;">목차</li>
</ul>

<h3 id="개요">개요</h3>

<p>이 문서는 2019년 1학기 <strong>프로그래밍언어</strong> 과목의 최종 과제의 내용을 정리한 문서이다. Github에 이 과제를 위한 <a href="https://github.com/Orb-H/PLCOMP_Assignment">Repository</a>가 있고 관련 내용도 <a href="https://github.com/Orb-H/PLCOMP_Assignment/blob/master/README.md">README.md</a>에 정리되어있지만 내용을 복습하고 코드에 대한 설명도 간단히 첨부할 겸 새로 작성한다.</p>

<p>이 과제에서 요구하는 바는 아래와 같다.</p>

<ul>
  <li>코드를 토큰으로 변환하고 Symbol Table 작성(<strong>Scanning</strong>)</li>
  <li>코드가 주어진 문법에 맞는 코드인지 판단(<strong>Parsing</strong>)</li>
  <li>코드를 주어진 유사-어셈블리 문법으로 변환(<strong>Code Generating</strong>)</li>
</ul>

<h3 id="과제-내용">과제 내용</h3>

<p><a href="https://github.com/Orb-H/PLCOMP_Assignment/blob/master/file/Compiler_Project-2019.pdf">여기</a>에서 원문을 볼 수 있다. 아래는 이 파일의 내용을 정리한다.</p>

<ul>
  <li>Scanner: 후술할 문법을 올바른 형태의 Transition Table로 변환한 후 <strong>DFA</strong> 또는 <strong>NFA</strong>를 사용하여 Scanner를 개발하시오.</li>
  <li>Parser: Scanner를 통해 생성한 Token이 문법과 맞는지 확인하고 <strong>PDA</strong>를 사용해서 Parser를 구현하시오.</li>
  <li>Code Generator: 입력 코드를 후술할 Pseudo Code의 문법에 맞게 변환하시오.</li>
  <li>Input Grammar
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>prog    ::=   word "(" ")" block ;
block   ::=   "{" slist "}"
        |     ;
slist   ::=   slist stat
        |     stat ;
stat    ::=   IF "(" cond ")" THEN block ELSE block
        |     WHILE "(" cond ")" block
        |     word "=" expr ";"
        |     ;
cond    ::=   expr "&gt;" expr
        |     expr "&lt;" expr ;
expr    ::=   fact
        |     expr "+" fact ;
fact    ::=   num
        |     word ;
word    ::=   ([a-z] | [A-Z])* ;
num     ::=   [0-9]*
</code></pre></div>    </div>
  </li>
  <li>Pseudocode Instructions
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>LD    Reg#1, addr(or num)   |   Reg#1에 변수 또는 값을 로드
ST    Reg#1, addr           |   Reg#1의 값을 변수에 저장
ADD   Reg#1, Reg#2, Reg#3   |   Reg#1 = Reg#2 + Reg#3
LT    Reg#1, Reg#2, Reg#3   |   Reg#2 &lt; Reg#3이면 1을, 아니면 0을 Reg#1에 저장
JUMPF Reg#1, label          |   Reg#1이 0이면 label로 점프
JUMPT Reg#2, label          |   Reg#1이 0이 아니면 label로 점프
JUMP  label                 |   label로 점프
MV    Reg#1, Reg#2          |   Reg#1의 값을 Reg#2에 설정
</code></pre></div>    </div>
  </li>
  <li>추가 사항
    <ul>
      <li>코드와 Symbol Table을 같이 출력</li>
      <li>함수는 <code class="language-plaintext highlighter-rouge">BEGIN 이름</code>으로 시작하고 <code class="language-plaintext highlighter-rouge">END 이름</code>으로 종료</li>
      <li>사용하는 레지스터의 개수를 최소화, 사용한 레지스터의 개수 출력</li>
      <li>주어진 문법을 변경해야 할 때에는 어떻게, 왜 변경했는지 서술</li>
    </ul>
  </li>
</ul>

<h3 id="관련-이론">관련 이론</h3>

<h4 id="스캐너">스캐너</h4>

<p>스캐너의 가장 기본적인 기능은 유한 오토마타를 사용하여 입력받은 문자열을</p>

<h3 id="개발">개발</h3>

<p>과제 조건에서 부득이한 경우 문법을 변경할 수 있고, 그 내용과 이유를 보고서에 기입하도록 되어있다. 그래서 실제 개발에 대한 내용을 작성하기 전에 문법에 관련된 내용부터 작성한다.</p>

<h4 id="문법-변경">문법 변경</h4>

<p>주어진 문법을 읽고 이해하는 과정에서 몇 가지 이상한 점을 발견했다. 그 내용은 아래와 같다.</p>

<ol>
  <li><code class="language-plaintext highlighter-rouge">block</code>이 ε이 될 수 있다. <code class="language-plaintext highlighter-rouge">block</code>이 직접적으로 포함되어있는 <code class="language-plaintext highlighter-rouge">prog</code> 입장에서는 <code class="language-plaintext highlighter-rouge">word "(" ")"</code>에서 함수를 선언하고 그 뒤로 함수의 내용이 있어야 하는데 <code class="language-plaintext highlighter-rouge">block</code>이 ε이면 함수의 내용이 없는 것이다. 즉, 선언만 하고 구현하지 않는 경우이다. 이 문법에 따르면 함수 선언은 프로그램에서 단 한 번 등장하고 함수 호출은 없기 때문에 함수를 구현하지 않고 선언만 하는 것은 의미가 없다. 따라서 <code class="language-plaintext highlighter-rouge">block</code>이 ε이 되는 경우를 문법에서 배제했다.</li>
  <li><code class="language-plaintext highlighter-rouge">word</code>와 <code class="language-plaintext highlighter-rouge">num</code>이 ε이 될 수 있다. ε이 된 경우 <code class="language-plaintext highlighter-rouge">expr</code>를 살펴보겠다. <code class="language-plaintext highlighter-rouge">expr ::= expr "+" fact</code>의 부분에서 <code class="language-plaintext highlighter-rouge">fact</code>가 ε이 될 수 있으므로 <code class="language-plaintext highlighter-rouge">3+++4+</code>와 같은 식도 올바른 코드가 된다. 또한 <code class="language-plaintext highlighter-rouge">stat</code>에서도 <code class="language-plaintext highlighter-rouge">stat ::= word "=" expr ";"</code>인 문법이 있는데, 여기서 <code class="language-plaintext highlighter-rouge">word</code>가 ε라고 하면 <code class="language-plaintext highlighter-rouge">=7;</code>도 올바른 코드이다. 하지만 위 두 경우 모두 일반적인 프로그래밍 언어에서는 잘못된 코드이며 Pseudocode Instruction로 구현하는 데에 있어서도 어려움이 있을 것이다. 따라서 <code class="language-plaintext highlighter-rouge">word</code>와 <code class="language-plaintext highlighter-rouge">num</code>의 와일드카드 <code class="language-plaintext highlighter-rouge">*</code>를 <code class="language-plaintext highlighter-rouge">+</code>로 대체했다.</li>
</ol>

<p>위 내용을 적용한 문법은 아래와 같다.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>prog    ::=   word "(" ")" block ;
block   ::=   "{" slist "}" ;
slist   ::=   slist stat
        |     stat ;
stat    ::=   IF "(" cond ")" THEN block ELSE block
        |     WHILE "(" cond ")" block
        |     word "=" expr ";"
        |     ;
cond    ::=   expr "&gt;" expr
        |     expr "&lt;" expr ;
expr    ::=   fact
        |     expr "+" fact ;
fact    ::=   num
        |     word ;
word    ::=   ([a-z] | [A-Z])+ ;
num     ::=   [0-9]+
</code></pre></div></div>

<h4 id="스캐너-1"><a href="">스캐너</a></h4>

<p>코드에서 등장할 수 있는 문자(<code class="language-plaintext highlighter-rouge">[a-zA-Z0-9\+\&gt;\&lt;\=\(\)\{\}\;]</code>)에 대하여 token이 될 수 있는 경우를 구분한다. 우선 <code class="language-plaintext highlighter-rouge">+</code>, <code class="language-plaintext highlighter-rouge">&gt;</code>, <code class="language-plaintext highlighter-rouge">&lt;</code>, <code class="language-plaintext highlighter-rouge">=</code>은 operator, <code class="language-plaintext highlighter-rouge">{</code>, <code class="language-plaintext highlighter-rouge">}</code>, <code class="language-plaintext highlighter-rouge">(</code>, <code class="language-plaintext highlighter-rouge">)</code>, <code class="language-plaintext highlighter-rouge">;</code>은 separator, <code class="language-plaintext highlighter-rouge">IF</code>, <code class="language-plaintext highlighter-rouge">THEN</code>, <code class="language-plaintext highlighter-rouge">ELSE</code>, <code class="language-plaintext highlighter-rouge">WHILE</code>은 keyword로 분류한다.<sup id="fnref:1" role="doc-noteref"><a href="#fn:1" class="footnote" rel="footnote">1</a></sup> 그리고 <code class="language-plaintext highlighter-rouge">[0-9]+</code>은 num, keyword를 제외한 <code class="language-plaintext highlighter-rouge">[a-zA-Z]+</code>은 word로 분류한다.
분류한 내용을 바탕으로 다이어그램을 그린다.</p>

<p><img src="/projects/images/2019/plcomp/nfa.png" alt="NFA" /></p>

<hr />

<div class="footnotes" role="doc-endnotes">
  <ol>
    <li id="fn:1" role="doc-endnote">
      <p>단순히 토큰을 만드는 기능만을 가진 스캐너를 개발한다면 operator와 separator를 따로 구분할 필요가 없다. 두 분류에서 사용하는 문자는 keyword나 word, num과는 공유하는 문자가 없으며 서로 공유하는 문자도 없다. 다만 이 과제에서는 스캐너에서 Symbol Table을 만들어야 하고, 나중에 Code Generator에서 Pseudocode를 만들 때 이 정보가 도움이 될 수 있기 때문에 구분했다.(operator는 instruction의 선택에 직접적인 영향을 미친다) <a href="#fnref:1" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
  </ol>
</div>


			</article>
		</section>

		<script>
			document.getElementById("open-nav").addEventListener("click", function () {
				document.body.classList.toggle("nav-open");
			});
		</script>
	</body>
</html>
